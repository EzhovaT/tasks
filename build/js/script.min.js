const form=document.querySelector("#add-task-form"),button=document.querySelector("#add-task-btn"),card=document.querySelector(".task-card"),titleInput=document.querySelector("#add-title"),textarea=document.querySelector("#add-description"),selectImg=document.querySelector("#add-img"),btnAddTask=document.querySelector(".add-task__btn-task"),taskListCards=document.querySelector(".task-list__cards"),themesBlock=document.querySelector(".themes"),arrTask={1:{title:"Литература на лето",description:'Русские народные сказки: "Василиса Прекрасная", "Финист – Ясный Сокол"\n      Жуковский В. "Спящая царевна"\n      Пушкин А. Сказки Гоголь Н. "Майская ночь, или Утопленница"\n      Куприн А. "Чудесный доктор"\n      Зощенко М. "Великие путешественники"\n      Платонов А. "Волшебное кольцо"',img:"img/icon9.png",id:1},2:{title:"Продукты",description:"Молочные продукты, яйца. Сюда можно отнести кефир, молоко, творог, яйца, сметану, йогурты.\n      Овощи/фрукты и консервы. ...\n      Сыр и колбаса/сосиски ...\n      Бытовая химия и сопутствующие товары.",img:"img/icon8.png",id:2},3:{title:"Интересная цитата",description:"Всю жизнь ожидаешь встречи с Кем-то, кто поймёт тебя и примет таким, какой ты есть.\n      А в самом конце обнаруживаешь, что этот Кто-то всегда с тобой. И это — ты сам.",img:"img/icon10.png",id:2}},themes={default:{"--default-page-bg":"#5CCDC979","--default-card-bg":"#009b9681","--default-btn-bg":"#1D7471"},sun:{"--page-bg":"#FFDD7379","--card-bg":"#FFC000","--btn-bg":"#A67D00"},icon8:{"--page-bg":"#E969A879","--card-bg":"#9E2862","--btn-bg":"#890043"},icon9:{"--page-bg":"#B365D479","--card-bg":"#A63CD4","--btn-bg":"#4E026E"},icon10:{"--page-bg":"#60D6A779","--card-bg":"#36D695","--btn-bg":"#007143"}};function addClassHidden(){form.classList.toggle("hidden"),button.classList.toggle("hidden")}button.addEventListener("click",addClassHidden),btnAddTask.addEventListener("click",addClassHidden),function(t){if(!t)return void console.error("oib,f");const e=({title:t,description:e,id:n,img:d}={})=>{const a=card.cloneNode(!0);a.classList.remove("hidden");a.querySelector(".task-card__title").textContent=t;a.querySelector(".task-card__description").textContent=e;return a.querySelector(".task-card__img").src=`${d}`,a.setAttribute("data-id",n),a},n=document.createDocumentFragment();Object.values(t).forEach((t=>{const d=e(t);n.appendChild(d)})),taskListCards.appendChild(n);const d=t=>{t.preventDefault();const n=a(titleInput.value,textarea.value,selectImg.value),d=e(n);taskListCards.insertAdjacentElement("afterbegin",d),form.reset()},a=(e,n,d)=>{const a={title:e,description:n,img:`img/${d}.png`,id:Math.random()};return t[a.id]=a,{...a}};btnAddTask.addEventListener("submit",d),form.addEventListener("submit",d);taskListCards.addEventListener("click",(e=>{if(e.target.classList.contains("task-card__btn-delete")){const n=e.target.closest("[data-id]");(e=>{const{title:n}=t[e],d=confirm(`Удалить "${n}" ?`);return d?(delete t[e],d):d})(n.dataset.id)&&n.remove()}}));let s=localStorage.getItem("theme")||"default";const r=t=>{const e=themes[t];Object.entries(e).forEach((([t,e])=>{document.documentElement.style.setProperty(t,e)}))};r(s),themesBlock.addEventListener("click",(t=>{if(t.target.classList.contains("task-card__img")){const e=t.target.closest("[data-btn]").dataset.btn;r(e),s=e,localStorage.setItem("theme",e)}}))}(arrTask);